

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>inspect &mdash; Python Standard Library</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Python Standard Library" href="../index.html"/>
        <link rel="up" title="Module code" href="index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Python Standard Library
          

          
          </a>

          
            
            
              <div class="version">
                1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../main1.html">1. Frequently used</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main2.html">2. Somewhat frequently used</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maybe_future.html">3. Misc package I may use in the future</a></li>
<li class="toctree-l1"><a class="reference internal" href="../official_page.html">4. Official page TOC</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Python Standard Library</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          













<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Module code</a> &raquo;</li>
        
      <li>inspect</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for inspect</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: iso-8859-1 -*-</span>
<span class="sd">&quot;&quot;&quot;Get useful information from live Python objects.</span>

<span class="sd">This module encapsulates the interface provided by the internal special</span>
<span class="sd">attributes (func_*, co_*, im_*, tb_*, etc.) in a friendlier fashion.</span>
<span class="sd">It also provides some help for examining source code and class layout.</span>

<span class="sd">Here are some of the useful functions provided by this module:</span>

<span class="sd">    ismodule(), isclass(), ismethod(), isfunction(), isgeneratorfunction(),</span>
<span class="sd">        isgenerator(), istraceback(), isframe(), iscode(), isbuiltin(),</span>
<span class="sd">        isroutine() - check object types</span>
<span class="sd">    getmembers() - get members of an object that satisfy a given condition</span>

<span class="sd">    getfile(), getsourcefile(), getsource() - find an object&#39;s source code</span>
<span class="sd">    getdoc(), getcomments() - get documentation on an object</span>
<span class="sd">    getmodule() - determine the module that an object came from</span>
<span class="sd">    getclasstree() - arrange classes so as to represent their hierarchy</span>

<span class="sd">    getargspec(), getargvalues(), getcallargs() - get info about function arguments</span>
<span class="sd">    formatargspec(), formatargvalues() - format an argument spec</span>
<span class="sd">    getouterframes(), getinnerframes() - get info about frames</span>
<span class="sd">    currentframe() - get the current stack frame</span>
<span class="sd">    stack(), trace() - get info about frames on the stack or in a traceback</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># This module is in the public domain.  No warranties.</span>

<span class="n">__author__</span> <span class="o">=</span> <span class="s1">&#39;Ka-Ping Yee &lt;ping@lfw.org&gt;&#39;</span>
<span class="n">__date__</span> <span class="o">=</span> <span class="s1">&#39;1 Jan 2001&#39;</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">types</span>
<span class="kn">import</span> <span class="nn">string</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">dis</span>
<span class="kn">import</span> <span class="nn">imp</span>
<span class="kn">import</span> <span class="nn">tokenize</span>
<span class="kn">import</span> <span class="nn">linecache</span>
<span class="kn">from</span> <span class="nn">operator</span> <span class="k">import</span> <span class="n">attrgetter</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">namedtuple</span>

<span class="c1"># These constants are from Include/code.h.</span>
<span class="n">CO_OPTIMIZED</span><span class="p">,</span> <span class="n">CO_NEWLOCALS</span><span class="p">,</span> <span class="n">CO_VARARGS</span><span class="p">,</span> <span class="n">CO_VARKEYWORDS</span> <span class="o">=</span> <span class="mh">0x1</span><span class="p">,</span> <span class="mh">0x2</span><span class="p">,</span> <span class="mh">0x4</span><span class="p">,</span> <span class="mh">0x8</span>
<span class="n">CO_NESTED</span><span class="p">,</span> <span class="n">CO_GENERATOR</span><span class="p">,</span> <span class="n">CO_NOFREE</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span> <span class="mh">0x20</span><span class="p">,</span> <span class="mh">0x40</span>
<span class="c1"># See Include/object.h</span>
<span class="n">TPFLAGS_IS_ABSTRACT</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">20</span>

<span class="c1"># ----------------------------------------------------------- type-checking</span>
<div class="viewcode-block" id="ismodule"><a class="viewcode-back" href="../generated/inspect.ismodule.html#inspect.ismodule">[docs]</a><span class="k">def</span> <span class="nf">ismodule</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return true if the object is a module.</span>

<span class="sd">    Module objects provide these attributes:</span>
<span class="sd">        __doc__         documentation string</span>
<span class="sd">        __file__        filename (missing for built-in modules)&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">)</span></div>

<div class="viewcode-block" id="isclass"><a class="viewcode-back" href="../generated/inspect.isclass.html#inspect.isclass">[docs]</a><span class="k">def</span> <span class="nf">isclass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return true if the object is a class.</span>

<span class="sd">    Class objects provide these attributes:</span>
<span class="sd">        __doc__         documentation string</span>
<span class="sd">        __module__      name of module in which this class was defined&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">ClassType</span><span class="p">))</span></div>

<div class="viewcode-block" id="ismethod"><a class="viewcode-back" href="../generated/inspect.ismethod.html#inspect.ismethod">[docs]</a><span class="k">def</span> <span class="nf">ismethod</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return true if the object is an instance method.</span>

<span class="sd">    Instance method objects provide these attributes:</span>
<span class="sd">        __doc__         documentation string</span>
<span class="sd">        __name__        name with which this method was defined</span>
<span class="sd">        im_class        class object in which this method belongs</span>
<span class="sd">        im_func         function object containing implementation of method</span>
<span class="sd">        im_self         instance to which this method is bound, or None&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">MethodType</span><span class="p">)</span></div>

<div class="viewcode-block" id="ismethoddescriptor"><a class="viewcode-back" href="../generated/inspect.ismethoddescriptor.html#inspect.ismethoddescriptor">[docs]</a><span class="k">def</span> <span class="nf">ismethoddescriptor</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return true if the object is a method descriptor.</span>

<span class="sd">    But not if ismethod() or isclass() or isfunction() are true.</span>

<span class="sd">    This is new in Python 2.2, and, for example, is true of int.__add__.</span>
<span class="sd">    An object passing this test has a __get__ attribute but not a __set__</span>
<span class="sd">    attribute, but beyond that the set of attributes varies.  __name__ is</span>
<span class="sd">    usually sensible, and __doc__ often is.</span>

<span class="sd">    Methods implemented via descriptors that also pass one of the other</span>
<span class="sd">    tests return false from the ismethoddescriptor() test, simply because</span>
<span class="sd">    the other tests promise more -- you can, e.g., count on having the</span>
<span class="sd">    im_func attribute (etc) when an object passes ismethod().&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="s2">&quot;__get__&quot;</span><span class="p">)</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="s2">&quot;__set__&quot;</span><span class="p">)</span> <span class="c1"># else it&#39;s a data descriptor</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="n">ismethod</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>           <span class="c1"># mutual exclusion</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="n">isfunction</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="n">isclass</span><span class="p">(</span><span class="nb">object</span><span class="p">))</span></div>

<div class="viewcode-block" id="isdatadescriptor"><a class="viewcode-back" href="../generated/inspect.isdatadescriptor.html#inspect.isdatadescriptor">[docs]</a><span class="k">def</span> <span class="nf">isdatadescriptor</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return true if the object is a data descriptor.</span>

<span class="sd">    Data descriptors have both a __get__ and a __set__ attribute.  Examples are</span>
<span class="sd">    properties (defined in Python) and getsets and members (defined in C).</span>
<span class="sd">    Typically, data descriptors will also have __name__ and __doc__ attributes</span>
<span class="sd">    (properties, getsets, and members have both of these attributes), but this</span>
<span class="sd">    is not guaranteed.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="s2">&quot;__set__&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="s2">&quot;__get__&quot;</span><span class="p">))</span></div>

<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">types</span><span class="p">,</span> <span class="s1">&#39;MemberDescriptorType&#39;</span><span class="p">):</span>
    <span class="c1"># CPython and equivalent</span>
    <span class="k">def</span> <span class="nf">ismemberdescriptor</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return true if the object is a member descriptor.</span>

<span class="sd">        Member descriptors are specialized descriptors defined in extension</span>
<span class="sd">        modules.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">MemberDescriptorType</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Other implementations</span>
<div class="viewcode-block" id="ismemberdescriptor"><a class="viewcode-back" href="../generated/inspect.ismemberdescriptor.html#inspect.ismemberdescriptor">[docs]</a>    <span class="k">def</span> <span class="nf">ismemberdescriptor</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return true if the object is a member descriptor.</span>

<span class="sd">        Member descriptors are specialized descriptors defined in extension</span>
<span class="sd">        modules.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">types</span><span class="p">,</span> <span class="s1">&#39;GetSetDescriptorType&#39;</span><span class="p">):</span>
    <span class="c1"># CPython and equivalent</span>
    <span class="k">def</span> <span class="nf">isgetsetdescriptor</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return true if the object is a getset descriptor.</span>

<span class="sd">        getset descriptors are specialized descriptors defined in extension</span>
<span class="sd">        modules.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">GetSetDescriptorType</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Other implementations</span>
<div class="viewcode-block" id="isgetsetdescriptor"><a class="viewcode-back" href="../generated/inspect.isgetsetdescriptor.html#inspect.isgetsetdescriptor">[docs]</a>    <span class="k">def</span> <span class="nf">isgetsetdescriptor</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return true if the object is a getset descriptor.</span>

<span class="sd">        getset descriptors are specialized descriptors defined in extension</span>
<span class="sd">        modules.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="isfunction"><a class="viewcode-back" href="../generated/inspect.isfunction.html#inspect.isfunction">[docs]</a><span class="k">def</span> <span class="nf">isfunction</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return true if the object is a user-defined function.</span>

<span class="sd">    Function objects provide these attributes:</span>
<span class="sd">        __doc__         documentation string</span>
<span class="sd">        __name__        name with which this function was defined</span>
<span class="sd">        func_code       code object containing compiled function bytecode</span>
<span class="sd">        func_defaults   tuple of any default values for arguments</span>
<span class="sd">        func_doc        (same as __doc__)</span>
<span class="sd">        func_globals    global namespace in which this function was defined</span>
<span class="sd">        func_name       (same as __name__)&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">FunctionType</span><span class="p">)</span></div>

<div class="viewcode-block" id="isgeneratorfunction"><a class="viewcode-back" href="../generated/inspect.isgeneratorfunction.html#inspect.isgeneratorfunction">[docs]</a><span class="k">def</span> <span class="nf">isgeneratorfunction</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return true if the object is a user-defined generator function.</span>

<span class="sd">    Generator function objects provides same attributes as functions.</span>

<span class="sd">    See help(isfunction) for attributes listing.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">bool</span><span class="p">((</span><span class="n">isfunction</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ismethod</span><span class="p">(</span><span class="nb">object</span><span class="p">))</span> <span class="ow">and</span>
                <span class="nb">object</span><span class="o">.</span><span class="n">func_code</span><span class="o">.</span><span class="n">co_flags</span> <span class="o">&amp;</span> <span class="n">CO_GENERATOR</span><span class="p">)</span></div>

<div class="viewcode-block" id="isgenerator"><a class="viewcode-back" href="../generated/inspect.isgenerator.html#inspect.isgenerator">[docs]</a><span class="k">def</span> <span class="nf">isgenerator</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return true if the object is a generator.</span>

<span class="sd">    Generator objects provide these attributes:</span>
<span class="sd">        __iter__        defined to support iteration over container</span>
<span class="sd">        close           raises a new GeneratorExit exception inside the</span>
<span class="sd">                        generator to terminate the iteration</span>
<span class="sd">        gi_code         code object</span>
<span class="sd">        gi_frame        frame object or possibly None once the generator has</span>
<span class="sd">                        been exhausted</span>
<span class="sd">        gi_running      set to 1 when generator is executing, 0 otherwise</span>
<span class="sd">        next            return the next item from the container</span>
<span class="sd">        send            resumes the generator and &quot;sends&quot; a value that becomes</span>
<span class="sd">                        the result of the current yield-expression</span>
<span class="sd">        throw           used to raise an exception inside the generator&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">GeneratorType</span><span class="p">)</span></div>

<div class="viewcode-block" id="istraceback"><a class="viewcode-back" href="../generated/inspect.istraceback.html#inspect.istraceback">[docs]</a><span class="k">def</span> <span class="nf">istraceback</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return true if the object is a traceback.</span>

<span class="sd">    Traceback objects provide these attributes:</span>
<span class="sd">        tb_frame        frame object at this level</span>
<span class="sd">        tb_lasti        index of last attempted instruction in bytecode</span>
<span class="sd">        tb_lineno       current line number in Python source code</span>
<span class="sd">        tb_next         next inner traceback object (called by this level)&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">TracebackType</span><span class="p">)</span></div>

<div class="viewcode-block" id="isframe"><a class="viewcode-back" href="../generated/inspect.isframe.html#inspect.isframe">[docs]</a><span class="k">def</span> <span class="nf">isframe</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return true if the object is a frame object.</span>

<span class="sd">    Frame objects provide these attributes:</span>
<span class="sd">        f_back          next outer frame object (this frame&#39;s caller)</span>
<span class="sd">        f_builtins      built-in namespace seen by this frame</span>
<span class="sd">        f_code          code object being executed in this frame</span>
<span class="sd">        f_exc_traceback traceback if raised in this frame, or None</span>
<span class="sd">        f_exc_type      exception type if raised in this frame, or None</span>
<span class="sd">        f_exc_value     exception value if raised in this frame, or None</span>
<span class="sd">        f_globals       global namespace seen by this frame</span>
<span class="sd">        f_lasti         index of last attempted instruction in bytecode</span>
<span class="sd">        f_lineno        current line number in Python source code</span>
<span class="sd">        f_locals        local namespace seen by this frame</span>
<span class="sd">        f_restricted    0 or 1 if frame is in restricted execution mode</span>
<span class="sd">        f_trace         tracing function for this frame, or None&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">FrameType</span><span class="p">)</span></div>

<div class="viewcode-block" id="iscode"><a class="viewcode-back" href="../generated/inspect.iscode.html#inspect.iscode">[docs]</a><span class="k">def</span> <span class="nf">iscode</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return true if the object is a code object.</span>

<span class="sd">    Code objects provide these attributes:</span>
<span class="sd">        co_argcount     number of arguments (not including * or ** args)</span>
<span class="sd">        co_code         string of raw compiled bytecode</span>
<span class="sd">        co_consts       tuple of constants used in the bytecode</span>
<span class="sd">        co_filename     name of file in which this code object was created</span>
<span class="sd">        co_firstlineno  number of first line in Python source code</span>
<span class="sd">        co_flags        bitmap: 1=optimized | 2=newlocals | 4=*arg | 8=**arg</span>
<span class="sd">        co_lnotab       encoded mapping of line numbers to bytecode indices</span>
<span class="sd">        co_name         name with which this code object was defined</span>
<span class="sd">        co_names        tuple of names of local variables</span>
<span class="sd">        co_nlocals      number of local variables</span>
<span class="sd">        co_stacksize    virtual machine stack space required</span>
<span class="sd">        co_varnames     tuple of names of arguments and local variables&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">CodeType</span><span class="p">)</span></div>

<div class="viewcode-block" id="isbuiltin"><a class="viewcode-back" href="../generated/inspect.isbuiltin.html#inspect.isbuiltin">[docs]</a><span class="k">def</span> <span class="nf">isbuiltin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return true if the object is a built-in function or method.</span>

<span class="sd">    Built-in functions and methods provide these attributes:</span>
<span class="sd">        __doc__         documentation string</span>
<span class="sd">        __name__        original name of this function or method</span>
<span class="sd">        __self__        instance to which a method is bound, or None&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">BuiltinFunctionType</span><span class="p">)</span></div>

<div class="viewcode-block" id="isroutine"><a class="viewcode-back" href="../generated/inspect.isroutine.html#inspect.isroutine">[docs]</a><span class="k">def</span> <span class="nf">isroutine</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return true if the object is any kind of function or method.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">isbuiltin</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>
            <span class="ow">or</span> <span class="n">isfunction</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>
            <span class="ow">or</span> <span class="n">ismethod</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>
            <span class="ow">or</span> <span class="n">ismethoddescriptor</span><span class="p">(</span><span class="nb">object</span><span class="p">))</span></div>

<div class="viewcode-block" id="isabstract"><a class="viewcode-back" href="../generated/inspect.isabstract.html#inspect.isabstract">[docs]</a><span class="k">def</span> <span class="nf">isabstract</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return true if the object is an abstract base class (ABC).&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">object</span><span class="o">.</span><span class="n">__flags__</span> <span class="o">&amp;</span> <span class="n">TPFLAGS_IS_ABSTRACT</span><span class="p">)</span></div>

<div class="viewcode-block" id="getmembers"><a class="viewcode-back" href="../generated/inspect.getmembers.html#inspect.getmembers">[docs]</a><span class="k">def</span> <span class="nf">getmembers</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return all members of an object as (name, value) pairs sorted by name.</span>
<span class="sd">    Optionally, only return members that satisfy a given predicate.&quot;&quot;&quot;</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">predicate</span> <span class="ow">or</span> <span class="n">predicate</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
    <span class="n">results</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">results</span></div>

<span class="n">Attribute</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Attribute&#39;</span><span class="p">,</span> <span class="s1">&#39;name kind defining_class object&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="classify_class_attrs"><a class="viewcode-back" href="../generated/inspect.classify_class_attrs.html#inspect.classify_class_attrs">[docs]</a><span class="k">def</span> <span class="nf">classify_class_attrs</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return list of attribute-descriptor tuples.</span>

<span class="sd">    For each name in dir(cls), the return list contains a 4-tuple</span>
<span class="sd">    with these elements:</span>

<span class="sd">        0. The name (a string).</span>

<span class="sd">        1. The kind of attribute this is, one of these strings:</span>
<span class="sd">               &#39;class method&#39;    created via classmethod()</span>
<span class="sd">               &#39;static method&#39;   created via staticmethod()</span>
<span class="sd">               &#39;property&#39;        created via property()</span>
<span class="sd">               &#39;method&#39;          any other flavor of method</span>
<span class="sd">               &#39;data&#39;            not a method</span>

<span class="sd">        2. The class which defined this attribute (a class).</span>

<span class="sd">        3. The object as obtained directly from the defining class&#39;s</span>
<span class="sd">           __dict__, not via getattr.  This is especially important for</span>
<span class="sd">           data attributes:  C.data is just a data object, but</span>
<span class="sd">           C.__dict__[&#39;data&#39;] may be a data descriptor with additional</span>
<span class="sd">           info, like a __doc__ string.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">mro</span> <span class="o">=</span> <span class="n">getmro</span><span class="p">(</span><span class="n">cls</span><span class="p">)</span>
    <span class="n">names</span> <span class="o">=</span> <span class="nb">dir</span><span class="p">(</span><span class="n">cls</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
        <span class="c1"># Get the object associated with the name, and where it was defined.</span>
        <span class="c1"># Getting an obj from the __dict__ sometimes reveals more than</span>
        <span class="c1"># using getattr.  Static and class methods are dramatic examples.</span>
        <span class="c1"># Furthermore, some objects may raise an Exception when fetched with</span>
        <span class="c1"># getattr(). This is the case with some descriptors (bug #1785).</span>
        <span class="c1"># Thus, we only use getattr() as a last resort.</span>
        <span class="n">homecls</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">base</span> <span class="ow">in</span> <span class="p">(</span><span class="n">cls</span><span class="p">,)</span> <span class="o">+</span> <span class="n">mro</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">base</span><span class="o">.</span><span class="n">__dict__</span><span class="p">:</span>
                <span class="n">obj</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
                <span class="n">homecls</span> <span class="o">=</span> <span class="n">base</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
            <span class="n">homecls</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;__objclass__&quot;</span><span class="p">,</span> <span class="n">homecls</span><span class="p">)</span>

        <span class="c1"># Classify the object.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">staticmethod</span><span class="p">):</span>
            <span class="n">kind</span> <span class="o">=</span> <span class="s2">&quot;static method&quot;</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">classmethod</span><span class="p">):</span>
            <span class="n">kind</span> <span class="o">=</span> <span class="s2">&quot;class method&quot;</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">property</span><span class="p">):</span>
            <span class="n">kind</span> <span class="o">=</span> <span class="s2">&quot;property&quot;</span>
        <span class="k">elif</span> <span class="n">ismethoddescriptor</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
            <span class="n">kind</span> <span class="o">=</span> <span class="s2">&quot;method&quot;</span>
        <span class="k">elif</span> <span class="n">isdatadescriptor</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
            <span class="n">kind</span> <span class="o">=</span> <span class="s2">&quot;data&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">obj_via_getattr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">ismethod</span><span class="p">(</span><span class="n">obj_via_getattr</span><span class="p">)</span> <span class="ow">or</span>
                <span class="n">ismethoddescriptor</span><span class="p">(</span><span class="n">obj_via_getattr</span><span class="p">)):</span>
                <span class="n">kind</span> <span class="o">=</span> <span class="s2">&quot;method&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">kind</span> <span class="o">=</span> <span class="s2">&quot;data&quot;</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="n">obj_via_getattr</span>

        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Attribute</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">homecls</span><span class="p">,</span> <span class="n">obj</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">result</span></div>

<span class="c1"># ----------------------------------------------------------- class helpers</span>
<span class="k">def</span> <span class="nf">_searchbases</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">accum</span><span class="p">):</span>
    <span class="c1"># Simulate the &quot;classic class&quot; search order.</span>
    <span class="k">if</span> <span class="n">cls</span> <span class="ow">in</span> <span class="n">accum</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">accum</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cls</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">base</span> <span class="ow">in</span> <span class="n">cls</span><span class="o">.</span><span class="n">__bases__</span><span class="p">:</span>
        <span class="n">_searchbases</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">accum</span><span class="p">)</span>

<div class="viewcode-block" id="getmro"><a class="viewcode-back" href="../generated/inspect.getmro.html#inspect.getmro">[docs]</a><span class="k">def</span> <span class="nf">getmro</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
    <span class="s2">&quot;Return tuple of base classes (including cls) in method resolution order.&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="s2">&quot;__mro__&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">cls</span><span class="o">.</span><span class="n">__mro__</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">_searchbases</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">result</span><span class="p">)</span></div>

<span class="c1"># -------------------------------------------------- source code extraction</span>
<div class="viewcode-block" id="indentsize"><a class="viewcode-back" href="../generated/inspect.indentsize.html#inspect.indentsize">[docs]</a><span class="k">def</span> <span class="nf">indentsize</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the indent size, in spaces, at the start of a line of text.&quot;&quot;&quot;</span>
    <span class="n">expline</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">expandtabs</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">expline</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="n">expline</span><span class="p">))</span></div>

<div class="viewcode-block" id="getdoc"><a class="viewcode-back" href="../generated/inspect.getdoc.html#inspect.getdoc">[docs]</a><span class="k">def</span> <span class="nf">getdoc</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the documentation string for an object.</span>

<span class="sd">    All tabs are expanded to spaces.  To clean up docstrings that are</span>
<span class="sd">    indented to line up with blocks of code, any whitespace than can be</span>
<span class="sd">    uniformly removed from the second line onwards is removed.&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="n">__doc__</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">StringTypes</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">cleandoc</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span></div>

<div class="viewcode-block" id="cleandoc"><a class="viewcode-back" href="../generated/inspect.cleandoc.html#inspect.cleandoc">[docs]</a><span class="k">def</span> <span class="nf">cleandoc</span><span class="p">(</span><span class="n">doc</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Clean up indentation from docstrings.</span>

<span class="sd">    Any whitespace that can be uniformly removed from the second line</span>
<span class="sd">    onwards is removed.&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">expandtabs</span><span class="p">(</span><span class="n">doc</span><span class="p">),</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">UnicodeError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Find minimum indentation of any non-blank lines after first line.</span>
        <span class="n">margin</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxint</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">content</span><span class="p">:</span>
                <span class="n">indent</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">-</span> <span class="n">content</span>
                <span class="n">margin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">margin</span><span class="p">,</span> <span class="n">indent</span><span class="p">)</span>
        <span class="c1"># Remove indentation.</span>
        <span class="k">if</span> <span class="n">lines</span><span class="p">:</span>
            <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">margin</span> <span class="o">&lt;</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxint</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)):</span> <span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">margin</span><span class="p">:]</span>
        <span class="c1"># Remove any trailing or leading blank lines.</span>
        <span class="k">while</span> <span class="n">lines</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">lines</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="k">while</span> <span class="n">lines</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">string</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="getfile"><a class="viewcode-back" href="../generated/inspect.getfile.html#inspect.getfile">[docs]</a><span class="k">def</span> <span class="nf">getfile</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Work out which source or compiled file an object was defined in.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">ismodule</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="s1">&#39;__file__&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">object</span><span class="o">.</span><span class="n">__file__</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!r}</span><span class="s1"> is a built-in module&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">object</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">isclass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="nb">object</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">object</span><span class="o">.</span><span class="n">__module__</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="s1">&#39;__file__&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">object</span><span class="o">.</span><span class="n">__file__</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!r}</span><span class="s1"> is a built-in class&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">object</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ismethod</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="nb">object</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="n">im_func</span>
    <span class="k">if</span> <span class="n">isfunction</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="nb">object</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="n">func_code</span>
    <span class="k">if</span> <span class="n">istraceback</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="nb">object</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="n">tb_frame</span>
    <span class="k">if</span> <span class="n">isframe</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="nb">object</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="n">f_code</span>
    <span class="k">if</span> <span class="n">iscode</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">object</span><span class="o">.</span><span class="n">co_filename</span>
    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!r}</span><span class="s1"> is not a module, class, method, &#39;</span>
                    <span class="s1">&#39;function, traceback, frame, or code object&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">object</span><span class="p">))</span></div>

<span class="n">ModuleInfo</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;ModuleInfo&#39;</span><span class="p">,</span> <span class="s1">&#39;name suffix mode module_type&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="getmoduleinfo"><a class="viewcode-back" href="../generated/inspect.getmoduleinfo.html#inspect.getmoduleinfo">[docs]</a><span class="k">def</span> <span class="nf">getmoduleinfo</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the module name, suffix, mode, and module type for a given file.&quot;&quot;&quot;</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="n">suffixes</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">info</span><span class="p">:</span>
                   <span class="p">(</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">info</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">info</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">info</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
                    <span class="n">imp</span><span class="o">.</span><span class="n">get_suffixes</span><span class="p">())</span>
    <span class="n">suffixes</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span> <span class="c1"># try longest suffixes first, in case they overlap</span>
    <span class="k">for</span> <span class="n">neglen</span><span class="p">,</span> <span class="n">suffix</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">mtype</span> <span class="ow">in</span> <span class="n">suffixes</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">filename</span><span class="p">[</span><span class="n">neglen</span><span class="p">:]</span> <span class="o">==</span> <span class="n">suffix</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ModuleInfo</span><span class="p">(</span><span class="n">filename</span><span class="p">[:</span><span class="n">neglen</span><span class="p">],</span> <span class="n">suffix</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">mtype</span><span class="p">)</span></div>

<div class="viewcode-block" id="getmodulename"><a class="viewcode-back" href="../generated/inspect.getmodulename.html#inspect.getmodulename">[docs]</a><span class="k">def</span> <span class="nf">getmodulename</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the module name for a given file, or None.&quot;&quot;&quot;</span>
    <span class="n">info</span> <span class="o">=</span> <span class="n">getmoduleinfo</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">info</span><span class="p">:</span> <span class="k">return</span> <span class="n">info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="getsourcefile"><a class="viewcode-back" href="../generated/inspect.getsourcefile.html#inspect.getsourcefile">[docs]</a><span class="k">def</span> <span class="nf">getsourcefile</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the filename that can be used to locate an object&#39;s source.</span>
<span class="sd">    Return None if no way can be identified to get the source.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">getfile</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">string</span><span class="o">.</span><span class="n">lower</span><span class="p">(</span><span class="n">filename</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:])</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;.pyc&#39;</span><span class="p">,</span> <span class="s1">&#39;.pyo&#39;</span><span class="p">):</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;.py&#39;</span>
    <span class="k">for</span> <span class="n">suffix</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">kind</span> <span class="ow">in</span> <span class="n">imp</span><span class="o">.</span><span class="n">get_suffixes</span><span class="p">():</span>
        <span class="k">if</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">mode</span> <span class="ow">and</span> <span class="n">string</span><span class="o">.</span><span class="n">lower</span><span class="p">(</span><span class="n">filename</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">):])</span> <span class="o">==</span> <span class="n">suffix</span><span class="p">:</span>
            <span class="c1"># Looks like a binary file.  We want to only return a text file.</span>
            <span class="k">return</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">filename</span>
    <span class="c1"># only return a non-existent filename if the module has a PEP 302 loader</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">getmodule</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">filename</span><span class="p">),</span> <span class="s1">&#39;__loader__&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">filename</span>
    <span class="c1"># or it is in the linecache</span>
    <span class="k">if</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">linecache</span><span class="o">.</span><span class="n">cache</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">filename</span></div>

<div class="viewcode-block" id="getabsfile"><a class="viewcode-back" href="../generated/inspect.getabsfile.html#inspect.getabsfile">[docs]</a><span class="k">def</span> <span class="nf">getabsfile</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">_filename</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return an absolute path to the source or compiled file for an object.</span>

<span class="sd">    The idea is for each object to have a unique origin, so this routine</span>
<span class="sd">    normalizes the result as much as possible.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">_filename</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">_filename</span> <span class="o">=</span> <span class="n">getsourcefile</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span> <span class="ow">or</span> <span class="n">getfile</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normcase</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">_filename</span><span class="p">))</span></div>

<span class="n">modulesbyfile</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">_filesbymodname</span> <span class="o">=</span> <span class="p">{}</span>

<div class="viewcode-block" id="getmodule"><a class="viewcode-back" href="../generated/inspect.getmodule.html#inspect.getmodule">[docs]</a><span class="k">def</span> <span class="nf">getmodule</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">_filename</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the module an object was defined in, or None if not found.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">ismodule</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">object</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="s1">&#39;__module__&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">object</span><span class="o">.</span><span class="n">__module__</span><span class="p">)</span>
    <span class="c1"># Try the filename to modulename cache</span>
    <span class="k">if</span> <span class="n">_filename</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">_filename</span> <span class="ow">in</span> <span class="n">modulesbyfile</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">modulesbyfile</span><span class="p">[</span><span class="n">_filename</span><span class="p">])</span>
    <span class="c1"># Try the cache again with the absolute file name</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">file</span> <span class="o">=</span> <span class="n">getabsfile</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">_filename</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">modulesbyfile</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">modulesbyfile</span><span class="p">[</span><span class="n">file</span><span class="p">])</span>
    <span class="c1"># Update the filename to module name cache and check yet again</span>
    <span class="c1"># Copy sys.modules in order to cope with changes while iterating</span>
    <span class="k">for</span> <span class="n">modname</span><span class="p">,</span> <span class="n">module</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">ismodule</span><span class="p">(</span><span class="n">module</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="s1">&#39;__file__&#39;</span><span class="p">):</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">__file__</span>
            <span class="k">if</span> <span class="n">f</span> <span class="o">==</span> <span class="n">_filesbymodname</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">modname</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
                <span class="c1"># Have already mapped this module, so skip it</span>
                <span class="k">continue</span>
            <span class="n">_filesbymodname</span><span class="p">[</span><span class="n">modname</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">getabsfile</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
            <span class="c1"># Always map to the name the module knows itself by</span>
            <span class="n">modulesbyfile</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="o">=</span> <span class="n">modulesbyfile</span><span class="p">[</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">f</span><span class="p">)]</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">__name__</span>
    <span class="k">if</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">modulesbyfile</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">modulesbyfile</span><span class="p">[</span><span class="n">file</span><span class="p">])</span>
    <span class="c1"># Check the main module</span>
    <span class="n">main</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="s1">&#39;__main__&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="s1">&#39;__name__&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">main</span><span class="p">,</span> <span class="nb">object</span><span class="o">.</span><span class="n">__name__</span><span class="p">):</span>
        <span class="n">mainobject</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">main</span><span class="p">,</span> <span class="nb">object</span><span class="o">.</span><span class="n">__name__</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">mainobject</span> <span class="ow">is</span> <span class="nb">object</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">main</span>
    <span class="c1"># Check builtins</span>
    <span class="n">builtin</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="s1">&#39;__builtin__&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">builtin</span><span class="p">,</span> <span class="nb">object</span><span class="o">.</span><span class="n">__name__</span><span class="p">):</span>
        <span class="n">builtinobject</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">builtin</span><span class="p">,</span> <span class="nb">object</span><span class="o">.</span><span class="n">__name__</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">builtinobject</span> <span class="ow">is</span> <span class="nb">object</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">builtin</span></div>

<div class="viewcode-block" id="findsource"><a class="viewcode-back" href="../generated/inspect.findsource.html#inspect.findsource">[docs]</a><span class="k">def</span> <span class="nf">findsource</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the entire source file and starting line number for an object.</span>

<span class="sd">    The argument may be a module, class, method, function, traceback, frame,</span>
<span class="sd">    or code object.  The source code is returned as a list of all the lines</span>
<span class="sd">    in the file and the line number indexes a line in that list.  An IOError</span>
<span class="sd">    is raised if the source code cannot be retrieved.&quot;&quot;&quot;</span>

    <span class="n">file</span> <span class="o">=</span> <span class="n">getfile</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>
    <span class="n">sourcefile</span> <span class="o">=</span> <span class="n">getsourcefile</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">sourcefile</span> <span class="ow">and</span> <span class="n">file</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">file</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">!=</span> <span class="s1">&#39;&lt;&gt;&#39;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s1">&#39;source code not available&#39;</span><span class="p">)</span>
    <span class="n">file</span> <span class="o">=</span> <span class="n">sourcefile</span> <span class="k">if</span> <span class="n">sourcefile</span> <span class="k">else</span> <span class="n">file</span>

    <span class="n">module</span> <span class="o">=</span> <span class="n">getmodule</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">module</span><span class="p">:</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">linecache</span><span class="o">.</span><span class="n">getlines</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">module</span><span class="o">.</span><span class="n">__dict__</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">linecache</span><span class="o">.</span><span class="n">getlines</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">lines</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s1">&#39;could not get source code&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">ismodule</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">lines</span><span class="p">,</span> <span class="mi">0</span>

    <span class="k">if</span> <span class="n">isclass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="n">__name__</span>
        <span class="n">pat</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">r&#39;^(\s*)class\s*&#39;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s1">r&#39;\b&#39;</span><span class="p">)</span>
        <span class="c1"># make some effort to find the best matching class definition:</span>
        <span class="c1"># use the one with the least indentation, which is the one</span>
        <span class="c1"># that&#39;s most probably not inside a function definition.</span>
        <span class="n">candidates</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)):</span>
            <span class="n">match</span> <span class="o">=</span> <span class="n">pat</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                <span class="c1"># if it&#39;s at toplevel, it&#39;s already the best one</span>
                <span class="k">if</span> <span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">lines</span><span class="p">,</span> <span class="n">i</span>
                <span class="c1"># else add whitespace to candidate list</span>
                <span class="n">candidates</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">i</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">candidates</span><span class="p">:</span>
            <span class="c1"># this will sort by whitespace, and by line number,</span>
            <span class="c1"># less whitespace first</span>
            <span class="n">candidates</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">lines</span><span class="p">,</span> <span class="n">candidates</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s1">&#39;could not find class definition&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">ismethod</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="nb">object</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="n">im_func</span>
    <span class="k">if</span> <span class="n">isfunction</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="nb">object</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="n">func_code</span>
    <span class="k">if</span> <span class="n">istraceback</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="nb">object</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="n">tb_frame</span>
    <span class="k">if</span> <span class="n">isframe</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="nb">object</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="n">f_code</span>
    <span class="k">if</span> <span class="n">iscode</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="s1">&#39;co_firstlineno&#39;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s1">&#39;could not find function definition&#39;</span><span class="p">)</span>
        <span class="n">lnum</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="n">co_firstlineno</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">pat</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">r&#39;^(\s*def\s)|(.*(?&lt;!\w)lambda(:|\s))|^(\s*@)&#39;</span><span class="p">)</span>
        <span class="k">while</span> <span class="n">lnum</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">pat</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">lnum</span><span class="p">]):</span> <span class="k">break</span>
            <span class="n">lnum</span> <span class="o">=</span> <span class="n">lnum</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">lines</span><span class="p">,</span> <span class="n">lnum</span>
    <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s1">&#39;could not find code object&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="getcomments"><a class="viewcode-back" href="../generated/inspect.getcomments.html#inspect.getcomments">[docs]</a><span class="k">def</span> <span class="nf">getcomments</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get lines of comments immediately preceding an object&#39;s source code.</span>

<span class="sd">    Returns None when source can&#39;t be found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">lines</span><span class="p">,</span> <span class="n">lnum</span> <span class="o">=</span> <span class="n">findsource</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">IOError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">ismodule</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="c1"># Look for a comment block at the top of the file.</span>
        <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">lines</span> <span class="ow">and</span> <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">][:</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;#!&#39;</span><span class="p">:</span> <span class="n">start</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="ow">and</span> <span class="n">string</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">start</span><span class="p">])</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;#&#39;</span><span class="p">):</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="ow">and</span> <span class="n">lines</span><span class="p">[</span><span class="n">start</span><span class="p">][:</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;#&#39;</span><span class="p">:</span>
            <span class="n">comments</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">start</span>
            <span class="k">while</span> <span class="n">end</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="ow">and</span> <span class="n">lines</span><span class="p">[</span><span class="n">end</span><span class="p">][:</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;#&#39;</span><span class="p">:</span>
                <span class="n">comments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">expandtabs</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">end</span><span class="p">]))</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="n">string</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">comments</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

    <span class="c1"># Look for a preceding block of comments at the same indentation.</span>
    <span class="k">elif</span> <span class="n">lnum</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">indent</span> <span class="o">=</span> <span class="n">indentsize</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">lnum</span><span class="p">])</span>
        <span class="n">end</span> <span class="o">=</span> <span class="n">lnum</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">end</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">string</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">end</span><span class="p">])[:</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;#&#39;</span> <span class="ow">and</span> \
            <span class="n">indentsize</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">end</span><span class="p">])</span> <span class="o">==</span> <span class="n">indent</span><span class="p">:</span>
            <span class="n">comments</span> <span class="o">=</span> <span class="p">[</span><span class="n">string</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">expandtabs</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">end</span><span class="p">]))]</span>
            <span class="k">if</span> <span class="n">end</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">end</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="n">comment</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">expandtabs</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">end</span><span class="p">]))</span>
                <span class="k">while</span> <span class="n">comment</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;#&#39;</span> <span class="ow">and</span> <span class="n">indentsize</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">end</span><span class="p">])</span> <span class="o">==</span> <span class="n">indent</span><span class="p">:</span>
                    <span class="n">comments</span><span class="p">[:</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">comment</span><span class="p">]</span>
                    <span class="n">end</span> <span class="o">=</span> <span class="n">end</span> <span class="o">-</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">end</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span> <span class="k">break</span>
                    <span class="n">comment</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">expandtabs</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">end</span><span class="p">]))</span>
            <span class="k">while</span> <span class="n">comments</span> <span class="ow">and</span> <span class="n">string</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">comments</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;#&#39;</span><span class="p">:</span>
                <span class="n">comments</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">while</span> <span class="n">comments</span> <span class="ow">and</span> <span class="n">string</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">comments</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;#&#39;</span><span class="p">:</span>
                <span class="n">comments</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">return</span> <span class="n">string</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">comments</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="EndOfBlock"><a class="viewcode-back" href="../generated/inspect.EndOfBlock.html#inspect.EndOfBlock">[docs]</a><span class="k">class</span> <span class="nc">EndOfBlock</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span> <span class="k">pass</span></div>

<div class="viewcode-block" id="BlockFinder"><a class="viewcode-back" href="../generated/generated/inspect.BlockFinder.html#inspect.BlockFinder">[docs]</a><span class="k">class</span> <span class="nc">BlockFinder</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Provide a tokeneater() method to detect the end of a code block.&quot;&quot;&quot;</span>
<div class="viewcode-block" id="BlockFinder.__init__"><a class="viewcode-back" href="../generated/generated/inspect.BlockFinder.__init__.html#inspect.BlockFinder.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">indent</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">islambda</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">passline</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="BlockFinder.tokeneater"><a class="viewcode-back" href="../generated/generated/inspect.BlockFinder.tokeneater.html#inspect.BlockFinder.tokeneater">[docs]</a>    <span class="k">def</span> <span class="nf">tokeneater</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">srow_scol</span><span class="p">,</span> <span class="n">erow_ecol</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="n">srow</span><span class="p">,</span> <span class="n">scol</span> <span class="o">=</span> <span class="n">srow_scol</span>
        <span class="n">erow</span><span class="p">,</span> <span class="n">ecol</span> <span class="o">=</span> <span class="n">erow_ecol</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">started</span><span class="p">:</span>
            <span class="c1"># look for the first &quot;def&quot;, &quot;class&quot; or &quot;lambda&quot;</span>
            <span class="k">if</span> <span class="n">token</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;def&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="s2">&quot;lambda&quot;</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">token</span> <span class="o">==</span> <span class="s2">&quot;lambda&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">islambda</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">passline</span> <span class="o">=</span> <span class="kc">True</span>    <span class="c1"># skip to the end of the line</span>
        <span class="k">elif</span> <span class="nb">type</span> <span class="o">==</span> <span class="n">tokenize</span><span class="o">.</span><span class="n">NEWLINE</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">passline</span> <span class="o">=</span> <span class="kc">False</span>   <span class="c1"># stop skipping when a NEWLINE is seen</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last</span> <span class="o">=</span> <span class="n">srow</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">islambda</span><span class="p">:</span>       <span class="c1"># lambdas always end at the first NEWLINE</span>
                <span class="k">raise</span> <span class="n">EndOfBlock</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">passline</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="nb">type</span> <span class="o">==</span> <span class="n">tokenize</span><span class="o">.</span><span class="n">INDENT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">indent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indent</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">passline</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="nb">type</span> <span class="o">==</span> <span class="n">tokenize</span><span class="o">.</span><span class="n">DEDENT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">indent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indent</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="c1"># the end of matching indent/dedent pairs end a block</span>
            <span class="c1"># (note that this only works for &quot;def&quot;/&quot;class&quot; blocks,</span>
            <span class="c1">#  not e.g. for &quot;if: else:&quot; or &quot;try: finally:&quot; blocks)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">indent</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EndOfBlock</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">indent</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="n">tokenize</span><span class="o">.</span><span class="n">COMMENT</span><span class="p">,</span> <span class="n">tokenize</span><span class="o">.</span><span class="n">NL</span><span class="p">):</span>
            <span class="c1"># any other token on the same indentation level end the previous</span>
            <span class="c1"># block as well, except the pseudo-tokens COMMENT and NL.</span>
            <span class="k">raise</span> <span class="n">EndOfBlock</span></div></div>

<div class="viewcode-block" id="getblock"><a class="viewcode-back" href="../generated/inspect.getblock.html#inspect.getblock">[docs]</a><span class="k">def</span> <span class="nf">getblock</span><span class="p">(</span><span class="n">lines</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Extract the block of code at the top of the given list of lines.&quot;&quot;&quot;</span>
    <span class="n">blockfinder</span> <span class="o">=</span> <span class="n">BlockFinder</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">tokenize</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span><span class="o">.</span><span class="n">next</span><span class="p">,</span> <span class="n">blockfinder</span><span class="o">.</span><span class="n">tokeneater</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="n">EndOfBlock</span><span class="p">,</span> <span class="ne">IndentationError</span><span class="p">):</span>
        <span class="k">pass</span>
    <span class="k">return</span> <span class="n">lines</span><span class="p">[:</span><span class="n">blockfinder</span><span class="o">.</span><span class="n">last</span><span class="p">]</span></div>

<div class="viewcode-block" id="getsourcelines"><a class="viewcode-back" href="../generated/inspect.getsourcelines.html#inspect.getsourcelines">[docs]</a><span class="k">def</span> <span class="nf">getsourcelines</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a list of source lines and starting line number for an object.</span>

<span class="sd">    The argument may be a module, class, method, function, traceback, frame,</span>
<span class="sd">    or code object.  The source code is returned as a list of the lines</span>
<span class="sd">    corresponding to the object and the line number indicates where in the</span>
<span class="sd">    original source file the first line of code was found.  An IOError is</span>
<span class="sd">    raised if the source code cannot be retrieved.&quot;&quot;&quot;</span>
    <span class="n">lines</span><span class="p">,</span> <span class="n">lnum</span> <span class="o">=</span> <span class="n">findsource</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">ismodule</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span> <span class="k">return</span> <span class="n">lines</span><span class="p">,</span> <span class="mi">0</span>
    <span class="k">else</span><span class="p">:</span> <span class="k">return</span> <span class="n">getblock</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">lnum</span><span class="p">:]),</span> <span class="n">lnum</span> <span class="o">+</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="getsource"><a class="viewcode-back" href="../generated/inspect.getsource.html#inspect.getsource">[docs]</a><span class="k">def</span> <span class="nf">getsource</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the text of the source code for an object.</span>

<span class="sd">    The argument may be a module, class, method, function, traceback, frame,</span>
<span class="sd">    or code object.  The source code is returned as a single string.  An</span>
<span class="sd">    IOError is raised if the source code cannot be retrieved.&quot;&quot;&quot;</span>
    <span class="n">lines</span><span class="p">,</span> <span class="n">lnum</span> <span class="o">=</span> <span class="n">getsourcelines</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">string</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span></div>

<span class="c1"># --------------------------------------------------- class tree extraction</span>
<div class="viewcode-block" id="walktree"><a class="viewcode-back" href="../generated/inspect.walktree.html#inspect.walktree">[docs]</a><span class="k">def</span> <span class="nf">walktree</span><span class="p">(</span><span class="n">classes</span><span class="p">,</span> <span class="n">children</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Recursive helper function for getclasstree().&quot;&quot;&quot;</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">classes</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">attrgetter</span><span class="p">(</span><span class="s1">&#39;__module__&#39;</span><span class="p">,</span> <span class="s1">&#39;__name__&#39;</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">classes</span><span class="p">:</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">c</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">__bases__</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
            <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">walktree</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="n">c</span><span class="p">],</span> <span class="n">children</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">results</span></div>

<div class="viewcode-block" id="getclasstree"><a class="viewcode-back" href="../generated/inspect.getclasstree.html#inspect.getclasstree">[docs]</a><span class="k">def</span> <span class="nf">getclasstree</span><span class="p">(</span><span class="n">classes</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Arrange the given list of classes into a hierarchy of nested lists.</span>

<span class="sd">    Where a nested list appears, it contains classes derived from the class</span>
<span class="sd">    whose entry immediately precedes the list.  Each entry is a 2-tuple</span>
<span class="sd">    containing a class and a tuple of its base classes.  If the &#39;unique&#39;</span>
<span class="sd">    argument is true, exactly one entry appears in the returned structure</span>
<span class="sd">    for each class in the given list.  Otherwise, classes using multiple</span>
<span class="sd">    inheritance and their descendants will appear multiple times.&quot;&quot;&quot;</span>
    <span class="n">children</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">roots</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">classes</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">__bases__</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">parent</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">__bases__</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">parent</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
                    <span class="n">children</span><span class="p">[</span><span class="n">parent</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">if</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">children</span><span class="p">[</span><span class="n">parent</span><span class="p">]:</span>
                    <span class="n">children</span><span class="p">[</span><span class="n">parent</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">unique</span> <span class="ow">and</span> <span class="n">parent</span> <span class="ow">in</span> <span class="n">classes</span><span class="p">:</span> <span class="k">break</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">roots</span><span class="p">:</span>
            <span class="n">roots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">parent</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">parent</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">classes</span><span class="p">:</span>
            <span class="n">roots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">walktree</span><span class="p">(</span><span class="n">roots</span><span class="p">,</span> <span class="n">children</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span></div>

<span class="c1"># ------------------------------------------------ argument list extraction</span>
<span class="n">Arguments</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Arguments&#39;</span><span class="p">,</span> <span class="s1">&#39;args varargs keywords&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="getargs"><a class="viewcode-back" href="../generated/inspect.getargs.html#inspect.getargs">[docs]</a><span class="k">def</span> <span class="nf">getargs</span><span class="p">(</span><span class="n">co</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get information about the arguments accepted by a code object.</span>

<span class="sd">    Three things are returned: (args, varargs, varkw), where &#39;args&#39; is</span>
<span class="sd">    a list of argument names (possibly containing nested lists), and</span>
<span class="sd">    &#39;varargs&#39; and &#39;varkw&#39; are the names of the * and ** arguments or None.&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">iscode</span><span class="p">(</span><span class="n">co</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!r}</span><span class="s1"> is not a code object&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">co</span><span class="p">))</span>

    <span class="n">nargs</span> <span class="o">=</span> <span class="n">co</span><span class="o">.</span><span class="n">co_argcount</span>
    <span class="n">names</span> <span class="o">=</span> <span class="n">co</span><span class="o">.</span><span class="n">co_varnames</span>
    <span class="n">args</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">names</span><span class="p">[:</span><span class="n">nargs</span><span class="p">])</span>
    <span class="n">step</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># The following acrobatics are for anonymous (tuple) arguments.</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">][:</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">):</span>
            <span class="n">stack</span><span class="p">,</span> <span class="n">remain</span><span class="p">,</span> <span class="n">count</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
            <span class="k">while</span> <span class="n">step</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">co</span><span class="o">.</span><span class="n">co_code</span><span class="p">):</span>
                <span class="n">op</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">co</span><span class="o">.</span><span class="n">co_code</span><span class="p">[</span><span class="n">step</span><span class="p">])</span>
                <span class="n">step</span> <span class="o">=</span> <span class="n">step</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">op</span> <span class="o">&gt;=</span> <span class="n">dis</span><span class="o">.</span><span class="n">HAVE_ARGUMENT</span><span class="p">:</span>
                    <span class="n">opname</span> <span class="o">=</span> <span class="n">dis</span><span class="o">.</span><span class="n">opname</span><span class="p">[</span><span class="n">op</span><span class="p">]</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">co</span><span class="o">.</span><span class="n">co_code</span><span class="p">[</span><span class="n">step</span><span class="p">])</span> <span class="o">+</span> <span class="nb">ord</span><span class="p">(</span><span class="n">co</span><span class="o">.</span><span class="n">co_code</span><span class="p">[</span><span class="n">step</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span><span class="o">*</span><span class="mi">256</span>
                    <span class="n">step</span> <span class="o">=</span> <span class="n">step</span> <span class="o">+</span> <span class="mi">2</span>
                    <span class="k">if</span> <span class="n">opname</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;UNPACK_TUPLE&#39;</span><span class="p">,</span> <span class="s1">&#39;UNPACK_SEQUENCE&#39;</span><span class="p">):</span>
                        <span class="n">remain</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                        <span class="n">count</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">opname</span> <span class="o">==</span> <span class="s1">&#39;STORE_FAST&#39;</span><span class="p">:</span>
                        <span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">names</span><span class="p">[</span><span class="n">value</span><span class="p">])</span>

                        <span class="c1"># Special case for sublists of length 1: def foo((bar))</span>
                        <span class="c1"># doesn&#39;t generate the UNPACK_TUPLE bytecode, so if</span>
                        <span class="c1"># `remain` is empty here, we have such a sublist.</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">remain</span><span class="p">:</span>
                            <span class="n">stack</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">stack</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
                            <span class="k">break</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">remain</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">remain</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
                            <span class="k">while</span> <span class="n">remain</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="n">remain</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                                <span class="n">size</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                                <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="n">size</span><span class="p">:]</span> <span class="o">=</span> <span class="p">[</span><span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="n">size</span><span class="p">:]]</span>
                                <span class="k">if</span> <span class="ow">not</span> <span class="n">remain</span><span class="p">:</span> <span class="k">break</span>
                                <span class="n">remain</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">remain</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="n">remain</span><span class="p">:</span> <span class="k">break</span>
            <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">stack</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">varargs</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">co</span><span class="o">.</span><span class="n">co_flags</span> <span class="o">&amp;</span> <span class="n">CO_VARARGS</span><span class="p">:</span>
        <span class="n">varargs</span> <span class="o">=</span> <span class="n">co</span><span class="o">.</span><span class="n">co_varnames</span><span class="p">[</span><span class="n">nargs</span><span class="p">]</span>
        <span class="n">nargs</span> <span class="o">=</span> <span class="n">nargs</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">varkw</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">co</span><span class="o">.</span><span class="n">co_flags</span> <span class="o">&amp;</span> <span class="n">CO_VARKEYWORDS</span><span class="p">:</span>
        <span class="n">varkw</span> <span class="o">=</span> <span class="n">co</span><span class="o">.</span><span class="n">co_varnames</span><span class="p">[</span><span class="n">nargs</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">Arguments</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">varargs</span><span class="p">,</span> <span class="n">varkw</span><span class="p">)</span></div>

<span class="n">ArgSpec</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;ArgSpec&#39;</span><span class="p">,</span> <span class="s1">&#39;args varargs keywords defaults&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="getargspec"><a class="viewcode-back" href="../generated/inspect.getargspec.html#inspect.getargspec">[docs]</a><span class="k">def</span> <span class="nf">getargspec</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the names and default values of a function&#39;s arguments.</span>

<span class="sd">    A tuple of four things is returned: (args, varargs, varkw, defaults).</span>
<span class="sd">    &#39;args&#39; is a list of the argument names (it may contain nested lists).</span>
<span class="sd">    &#39;varargs&#39; and &#39;varkw&#39; are the names of the * and ** arguments or None.</span>
<span class="sd">    &#39;defaults&#39; is an n-tuple of the default values of the last n arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">ismethod</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="n">func</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">im_func</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">isfunction</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!r}</span><span class="s1"> is not a Python function&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">func</span><span class="p">))</span>
    <span class="n">args</span><span class="p">,</span> <span class="n">varargs</span><span class="p">,</span> <span class="n">varkw</span> <span class="o">=</span> <span class="n">getargs</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">func_code</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ArgSpec</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">varargs</span><span class="p">,</span> <span class="n">varkw</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">func_defaults</span><span class="p">)</span></div>

<span class="n">ArgInfo</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;ArgInfo&#39;</span><span class="p">,</span> <span class="s1">&#39;args varargs keywords locals&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="getargvalues"><a class="viewcode-back" href="../generated/inspect.getargvalues.html#inspect.getargvalues">[docs]</a><span class="k">def</span> <span class="nf">getargvalues</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get information about arguments passed into a particular frame.</span>

<span class="sd">    A tuple of four things is returned: (args, varargs, varkw, locals).</span>
<span class="sd">    &#39;args&#39; is a list of the argument names (it may contain nested lists).</span>
<span class="sd">    &#39;varargs&#39; and &#39;varkw&#39; are the names of the * and ** arguments or None.</span>
<span class="sd">    &#39;locals&#39; is the locals dictionary of the given frame.&quot;&quot;&quot;</span>
    <span class="n">args</span><span class="p">,</span> <span class="n">varargs</span><span class="p">,</span> <span class="n">varkw</span> <span class="o">=</span> <span class="n">getargs</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">f_code</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ArgInfo</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">varargs</span><span class="p">,</span> <span class="n">varkw</span><span class="p">,</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_locals</span><span class="p">)</span></div>

<div class="viewcode-block" id="joinseq"><a class="viewcode-back" href="../generated/inspect.joinseq.html#inspect.joinseq">[docs]</a><span class="k">def</span> <span class="nf">joinseq</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="n">seq</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;,)&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span></div>

<div class="viewcode-block" id="strseq"><a class="viewcode-back" href="../generated/inspect.strseq.html#inspect.strseq">[docs]</a><span class="k">def</span> <span class="nf">strseq</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">convert</span><span class="p">,</span> <span class="n">join</span><span class="o">=</span><span class="n">joinseq</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Recursively walk a sequence, stringifying each element.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">o</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">convert</span><span class="p">,</span> <span class="n">j</span><span class="o">=</span><span class="n">join</span><span class="p">:</span> <span class="n">strseq</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span> <span class="nb">object</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">convert</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span></div>

<div class="viewcode-block" id="formatargspec"><a class="viewcode-back" href="../generated/inspect.formatargspec.html#inspect.formatargspec">[docs]</a><span class="k">def</span> <span class="nf">formatargspec</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">varargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">varkw</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">defaults</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                  <span class="n">formatarg</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                  <span class="n">formatvarargs</span><span class="o">=</span><span class="k">lambda</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;*&#39;</span> <span class="o">+</span> <span class="n">name</span><span class="p">,</span>
                  <span class="n">formatvarkw</span><span class="o">=</span><span class="k">lambda</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;**&#39;</span> <span class="o">+</span> <span class="n">name</span><span class="p">,</span>
                  <span class="n">formatvalue</span><span class="o">=</span><span class="k">lambda</span> <span class="n">value</span><span class="p">:</span> <span class="s1">&#39;=&#39;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">value</span><span class="p">),</span>
                  <span class="n">join</span><span class="o">=</span><span class="n">joinseq</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Format an argument spec from the 4 values returned by getargspec.</span>

<span class="sd">    The first four arguments are (args, varargs, varkw, defaults).  The</span>
<span class="sd">    other four arguments are the corresponding optional formatting functions</span>
<span class="sd">    that are called to turn names and values into strings.  The ninth</span>
<span class="sd">    argument is an optional function to format the sequence of arguments.&quot;&quot;&quot;</span>
    <span class="n">specs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">defaults</span><span class="p">:</span>
        <span class="n">firstdefault</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">defaults</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">arg</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="n">strseq</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">formatarg</span><span class="p">,</span> <span class="n">join</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">defaults</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">firstdefault</span><span class="p">:</span>
            <span class="n">spec</span> <span class="o">=</span> <span class="n">spec</span> <span class="o">+</span> <span class="n">formatvalue</span><span class="p">(</span><span class="n">defaults</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">firstdefault</span><span class="p">])</span>
        <span class="n">specs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">varargs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">specs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">formatvarargs</span><span class="p">(</span><span class="n">varargs</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">varkw</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">specs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">formatvarkw</span><span class="p">(</span><span class="n">varkw</span><span class="p">))</span>
    <span class="k">return</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">specs</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span></div>

<div class="viewcode-block" id="formatargvalues"><a class="viewcode-back" href="../generated/inspect.formatargvalues.html#inspect.formatargvalues">[docs]</a><span class="k">def</span> <span class="nf">formatargvalues</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">varargs</span><span class="p">,</span> <span class="n">varkw</span><span class="p">,</span> <span class="nb">locals</span><span class="p">,</span>
                    <span class="n">formatarg</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                    <span class="n">formatvarargs</span><span class="o">=</span><span class="k">lambda</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;*&#39;</span> <span class="o">+</span> <span class="n">name</span><span class="p">,</span>
                    <span class="n">formatvarkw</span><span class="o">=</span><span class="k">lambda</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;**&#39;</span> <span class="o">+</span> <span class="n">name</span><span class="p">,</span>
                    <span class="n">formatvalue</span><span class="o">=</span><span class="k">lambda</span> <span class="n">value</span><span class="p">:</span> <span class="s1">&#39;=&#39;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">value</span><span class="p">),</span>
                    <span class="n">join</span><span class="o">=</span><span class="n">joinseq</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Format an argument spec from the 4 values returned by getargvalues.</span>

<span class="sd">    The first four arguments are (args, varargs, varkw, locals).  The</span>
<span class="sd">    next four arguments are the corresponding optional formatting functions</span>
<span class="sd">    that are called to turn names and values into strings.  The ninth</span>
<span class="sd">    argument is an optional function to format the sequence of arguments.&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">convert</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">locals</span><span class="o">=</span><span class="nb">locals</span><span class="p">,</span>
                <span class="n">formatarg</span><span class="o">=</span><span class="n">formatarg</span><span class="p">,</span> <span class="n">formatvalue</span><span class="o">=</span><span class="n">formatvalue</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">formatarg</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">+</span> <span class="n">formatvalue</span><span class="p">(</span><span class="nb">locals</span><span class="p">[</span><span class="n">name</span><span class="p">])</span>
    <span class="n">specs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)):</span>
        <span class="n">specs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">strseq</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">convert</span><span class="p">,</span> <span class="n">join</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">varargs</span><span class="p">:</span>
        <span class="n">specs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">formatvarargs</span><span class="p">(</span><span class="n">varargs</span><span class="p">)</span> <span class="o">+</span> <span class="n">formatvalue</span><span class="p">(</span><span class="nb">locals</span><span class="p">[</span><span class="n">varargs</span><span class="p">]))</span>
    <span class="k">if</span> <span class="n">varkw</span><span class="p">:</span>
        <span class="n">specs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">formatvarkw</span><span class="p">(</span><span class="n">varkw</span><span class="p">)</span> <span class="o">+</span> <span class="n">formatvalue</span><span class="p">(</span><span class="nb">locals</span><span class="p">[</span><span class="n">varkw</span><span class="p">]))</span>
    <span class="k">return</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">specs</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span></div>

<div class="viewcode-block" id="getcallargs"><a class="viewcode-back" href="../generated/inspect.getcallargs.html#inspect.getcallargs">[docs]</a><span class="k">def</span> <span class="nf">getcallargs</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">positional</span><span class="p">,</span> <span class="o">**</span><span class="n">named</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the mapping of arguments to values.</span>

<span class="sd">    A dict is returned, with keys the function argument names (including the</span>
<span class="sd">    names of the * and ** arguments, if any), and values the respective bound</span>
<span class="sd">    values from &#39;positional&#39; and &#39;named&#39;.&quot;&quot;&quot;</span>
    <span class="n">args</span><span class="p">,</span> <span class="n">varargs</span><span class="p">,</span> <span class="n">varkw</span><span class="p">,</span> <span class="n">defaults</span> <span class="o">=</span> <span class="n">getargspec</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="n">f_name</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">__name__</span>
    <span class="n">arg2value</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># The following closures are basically because of tuple parameter unpacking.</span>
    <span class="n">assigned_tuple_params</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">def</span> <span class="nf">assign</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">arg2value</span><span class="p">[</span><span class="n">arg</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">assigned_tuple_params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">subarg</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">subvalue</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;need more than </span><span class="si">%d</span><span class="s1"> </span><span class="si">%s</span><span class="s1"> to unpack&#39;</span> <span class="o">%</span>
                                     <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;values&#39;</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="s1">&#39;value&#39;</span><span class="p">))</span>
                <span class="n">assign</span><span class="p">(</span><span class="n">subarg</span><span class="p">,</span><span class="n">subvalue</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">next</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;too many values to unpack&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">is_assigned</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">arg2value</span>
        <span class="k">return</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">assigned_tuple_params</span>
    <span class="k">if</span> <span class="n">ismethod</span><span class="p">(</span><span class="n">func</span><span class="p">)</span> <span class="ow">and</span> <span class="n">func</span><span class="o">.</span><span class="n">im_self</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># implicit &#39;self&#39; (or &#39;cls&#39; for classmethods) argument</span>
        <span class="n">positional</span> <span class="o">=</span> <span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">im_self</span><span class="p">,)</span> <span class="o">+</span> <span class="n">positional</span>
    <span class="n">num_pos</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">positional</span><span class="p">)</span>
    <span class="n">num_total</span> <span class="o">=</span> <span class="n">num_pos</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">named</span><span class="p">)</span>
    <span class="n">num_args</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
    <span class="n">num_defaults</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">defaults</span><span class="p">)</span> <span class="k">if</span> <span class="n">defaults</span> <span class="k">else</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">arg</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">positional</span><span class="p">):</span>
        <span class="n">assign</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">varargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">num_pos</span> <span class="o">&gt;</span> <span class="n">num_args</span><span class="p">:</span>
            <span class="n">assign</span><span class="p">(</span><span class="n">varargs</span><span class="p">,</span> <span class="n">positional</span><span class="p">[</span><span class="o">-</span><span class="p">(</span><span class="n">num_pos</span><span class="o">-</span><span class="n">num_args</span><span class="p">):])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">assign</span><span class="p">(</span><span class="n">varargs</span><span class="p">,</span> <span class="p">())</span>
    <span class="k">elif</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">num_args</span> <span class="o">&lt;</span> <span class="n">num_pos</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">() takes </span><span class="si">%s</span><span class="s1"> </span><span class="si">%d</span><span class="s1"> </span><span class="si">%s</span><span class="s1"> (</span><span class="si">%d</span><span class="s1"> given)&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">f_name</span><span class="p">,</span> <span class="s1">&#39;at most&#39;</span> <span class="k">if</span> <span class="n">defaults</span> <span class="k">else</span> <span class="s1">&#39;exactly&#39;</span><span class="p">,</span> <span class="n">num_args</span><span class="p">,</span>
            <span class="s1">&#39;arguments&#39;</span> <span class="k">if</span> <span class="n">num_args</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="s1">&#39;argument&#39;</span><span class="p">,</span> <span class="n">num_total</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">num_args</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">num_total</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">varkw</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">num_pos</span><span class="p">:</span>
                <span class="c1"># XXX: We should use num_pos, but Python also uses num_total:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">() takes exactly 0 arguments &#39;</span>
                                <span class="s1">&#39;(</span><span class="si">%d</span><span class="s1"> given)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">f_name</span><span class="p">,</span> <span class="n">num_total</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">() takes no arguments (</span><span class="si">%d</span><span class="s1"> given)&#39;</span> <span class="o">%</span>
                            <span class="p">(</span><span class="n">f_name</span><span class="p">,</span> <span class="n">num_total</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">named</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_assigned</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">() got multiple values for keyword &quot;</span>
                                <span class="s2">&quot;argument &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">f_name</span><span class="p">,</span> <span class="n">arg</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">assign</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">named</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">arg</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">defaults</span><span class="p">:</span>    <span class="c1"># fill in any missing values with the defaults</span>
        <span class="k">for</span> <span class="n">arg</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="o">-</span><span class="n">num_defaults</span><span class="p">:],</span> <span class="n">defaults</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">is_assigned</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
                <span class="n">assign</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">varkw</span><span class="p">:</span>
        <span class="n">assign</span><span class="p">(</span><span class="n">varkw</span><span class="p">,</span> <span class="n">named</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">named</span><span class="p">:</span>
        <span class="n">unexpected</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">named</span><span class="p">))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">unicode</span>
        <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">unexpected</span><span class="p">,</span> <span class="n">unicode</span><span class="p">):</span>
                <span class="n">unexpected</span> <span class="o">=</span> <span class="n">unexpected</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">getdefaultencoding</span><span class="p">(),</span> <span class="s1">&#39;replace&#39;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">() got an unexpected keyword argument &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span>
                        <span class="p">(</span><span class="n">f_name</span><span class="p">,</span> <span class="n">unexpected</span><span class="p">))</span>
    <span class="n">unassigned</span> <span class="o">=</span> <span class="n">num_args</span> <span class="o">-</span> <span class="nb">len</span><span class="p">([</span><span class="n">arg</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span> <span class="k">if</span> <span class="n">is_assigned</span><span class="p">(</span><span class="n">arg</span><span class="p">)])</span>
    <span class="k">if</span> <span class="n">unassigned</span><span class="p">:</span>
        <span class="n">num_required</span> <span class="o">=</span> <span class="n">num_args</span> <span class="o">-</span> <span class="n">num_defaults</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">() takes </span><span class="si">%s</span><span class="s1"> </span><span class="si">%d</span><span class="s1"> </span><span class="si">%s</span><span class="s1"> (</span><span class="si">%d</span><span class="s1"> given)&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="n">f_name</span><span class="p">,</span> <span class="s1">&#39;at least&#39;</span> <span class="k">if</span> <span class="n">defaults</span> <span class="k">else</span> <span class="s1">&#39;exactly&#39;</span><span class="p">,</span> <span class="n">num_required</span><span class="p">,</span>
            <span class="s1">&#39;arguments&#39;</span> <span class="k">if</span> <span class="n">num_required</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="s1">&#39;argument&#39;</span><span class="p">,</span> <span class="n">num_total</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">arg2value</span></div>

<span class="c1"># -------------------------------------------------- stack frame extraction</span>

<span class="n">Traceback</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Traceback&#39;</span><span class="p">,</span> <span class="s1">&#39;filename lineno function code_context index&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="getframeinfo"><a class="viewcode-back" href="../generated/inspect.getframeinfo.html#inspect.getframeinfo">[docs]</a><span class="k">def</span> <span class="nf">getframeinfo</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get information about a frame or traceback object.</span>

<span class="sd">    A tuple of five things is returned: the filename, the line number of</span>
<span class="sd">    the current line, the function name, a list of lines of context from</span>
<span class="sd">    the source code, and the index of the current line within that list.</span>
<span class="sd">    The optional second argument specifies the number of lines of context</span>
<span class="sd">    to return, which are centered around the current line.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">istraceback</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
        <span class="n">lineno</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">tb_lineno</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">tb_frame</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">lineno</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_lineno</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">isframe</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!r}</span><span class="s1"> is not a frame or traceback object&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">frame</span><span class="p">))</span>

    <span class="n">filename</span> <span class="o">=</span> <span class="n">getsourcefile</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span> <span class="ow">or</span> <span class="n">getfile</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">context</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">lineno</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">context</span><span class="o">//</span><span class="mi">2</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">lines</span><span class="p">,</span> <span class="n">lnum</span> <span class="o">=</span> <span class="n">findsource</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
            <span class="n">lines</span> <span class="o">=</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">start</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">-</span> <span class="n">context</span><span class="p">))</span>
            <span class="n">lines</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">start</span><span class="o">+</span><span class="n">context</span><span class="p">]</span>
            <span class="n">index</span> <span class="o">=</span> <span class="n">lineno</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">start</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">index</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">Traceback</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">lineno</span><span class="p">,</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_code</span><span class="o">.</span><span class="n">co_name</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span></div>

<div class="viewcode-block" id="getlineno"><a class="viewcode-back" href="../generated/inspect.getlineno.html#inspect.getlineno">[docs]</a><span class="k">def</span> <span class="nf">getlineno</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the line number from a frame object, allowing for optimization.&quot;&quot;&quot;</span>
    <span class="c1"># FrameType.f_lineno is now a descriptor that grovels co_lnotab</span>
    <span class="k">return</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_lineno</span></div>

<div class="viewcode-block" id="getouterframes"><a class="viewcode-back" href="../generated/inspect.getouterframes.html#inspect.getouterframes">[docs]</a><span class="k">def</span> <span class="nf">getouterframes</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a list of records for a frame and all higher (calling) frames.</span>

<span class="sd">    Each record contains a frame object, filename, line number, function</span>
<span class="sd">    name, a list of lines of context, and index within the context.&quot;&quot;&quot;</span>
    <span class="n">framelist</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="n">frame</span><span class="p">:</span>
        <span class="n">framelist</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">frame</span><span class="p">,)</span> <span class="o">+</span> <span class="n">getframeinfo</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">context</span><span class="p">))</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_back</span>
    <span class="k">return</span> <span class="n">framelist</span></div>

<div class="viewcode-block" id="getinnerframes"><a class="viewcode-back" href="../generated/inspect.getinnerframes.html#inspect.getinnerframes">[docs]</a><span class="k">def</span> <span class="nf">getinnerframes</span><span class="p">(</span><span class="n">tb</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a list of records for a traceback&#39;s frame and all lower frames.</span>

<span class="sd">    Each record contains a frame object, filename, line number, function</span>
<span class="sd">    name, a list of lines of context, and index within the context.&quot;&quot;&quot;</span>
    <span class="n">framelist</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="n">tb</span><span class="p">:</span>
        <span class="n">framelist</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">tb</span><span class="o">.</span><span class="n">tb_frame</span><span class="p">,)</span> <span class="o">+</span> <span class="n">getframeinfo</span><span class="p">(</span><span class="n">tb</span><span class="p">,</span> <span class="n">context</span><span class="p">))</span>
        <span class="n">tb</span> <span class="o">=</span> <span class="n">tb</span><span class="o">.</span><span class="n">tb_next</span>
    <span class="k">return</span> <span class="n">framelist</span></div>

<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">sys</span><span class="p">,</span> <span class="s1">&#39;_getframe&#39;</span><span class="p">):</span>
    <span class="n">currentframe</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">_getframe</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">currentframe</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">_</span><span class="o">=</span><span class="kc">None</span><span class="p">:</span> <span class="kc">None</span>

<div class="viewcode-block" id="stack"><a class="viewcode-back" href="../generated/inspect.stack.html#inspect.stack">[docs]</a><span class="k">def</span> <span class="nf">stack</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a list of records for the stack above the caller&#39;s frame.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">getouterframes</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">_getframe</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">context</span><span class="p">)</span></div>

<div class="viewcode-block" id="trace"><a class="viewcode-back" href="../generated/inspect.trace.html#inspect.trace">[docs]</a><span class="k">def</span> <span class="nf">trace</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a list of records for the stack below the current exception.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">getinnerframes</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">2</span><span class="p">],</span> <span class="n">context</span><span class="p">)</span></div>
</pre></div>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>